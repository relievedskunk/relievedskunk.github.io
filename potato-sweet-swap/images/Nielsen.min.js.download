!function o(a,u,c){function l(t,n){if(!u[t]){if(!a[t]){var e="function"==typeof require&&require;if(!n&&e)return e(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[t]={exports:{}};a[t][0].call(i.exports,function(n){return l(a[t][1][n]||n)},i,i.exports,o,a,u,c)}return u[t].exports}for(var s="function"==typeof require&&require,n=0;n<c.length;n++)l(c[n]);return l}({1:[function(n,t,e){OO||(OO={})},{}],2:[function(n,t,e){n("./InitOO.js"),window._||(window._=n("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:6}],3:[function(n,t,e){!function(u,o,i){u.getRandomString=function(){return Math.random().toString(36).substring(7)},u.safeClone=function(n){if(o.isNumber(n)||o.isString(n)||o.isBoolean(n)||o.isFunction(n)||o.isNull(n)||o.isUndefined(n))return n;var t=n instanceof Array?[]:{};try{i.extend(!0,t,n)}catch(n){u.log("deep clone error",n)}return t},u.d=function(){u.isDebug&&u.log.apply(u,arguments),u.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(u.safeClone(arguments))+"<br>")},u.inherit=function(n,t){if("function"!=typeof n)return u.log("invalid inherit, ParentClass need to be a class",n),null;var e=function(){n.apply(this,arguments),"function"==typeof t&&t.apply(this,arguments)},r=new n;return u._.extend(e.prototype,r),e.prototype.parentClass=r,e};var r={};u.attachStyle=function(n,t){var e=i('<style type="text/css">'+n+"</style>").appendTo("head");r[t]=r[t]||[],r[t].push(e)},u.removeStyles=function(n){u._.each(r[n],function(n){n.remove()})},u.getInnerProperty=function(n,t){for(var e=n,r=t;0<r.length;){var i=r.shift();if(o.isNull(e)||!o.isObject(e)||o.isFunction(e)||o.isArray(e))return null;e=e[i]}return e},u.formatSeconds=function(n){var t=parseInt(n,10)%60,e=parseInt(n/3600,10),r=parseInt((n-3600*e)/60,10);return e<10&&(e="0"+e),r<10&&(r="0"+r),t<10&&(t="0"+t),0<parseInt(e,10)?e+":"+r+":"+t:r+":"+t},u.timeStringToSeconds=function(n){var t=(n||"").split(":");return o.reduce(t,function(n,t){return 60*n+parseInt(t,10)},0)},u.leftPadding=function(n,t){for(var e=n?n.toString():"";e.length<t;)e="0"+e;return e},u.getColorString=function(n){return"#"+u.leftPadding(n.toString(16),6).toUpperCase()},u.hexToRgb=function(n){return[(16711680&n)>>16,(65280&n)>>8,255&n]},u.changeColor=function(n,t,e){var r=e?Math.max:Math.min,i=e?0:255,o=Math.round(255*t)*(e?-1:1),a=u.hexToRgb(n);return[u.leftPadding(r(a[0]+o,i).toString(16),2),u.leftPadding(r(a[1]+o,i).toString(16),2),u.leftPadding(r(a[2]+o,i).toString(16),2)].join("")},u.decode64=function(n){n=n.replace(/\n/g,"");var t,e="",r=0,i=[];if(window.atob)return atob(n);do{for(t=0;t<4;t++)i[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n.charAt(r++));e+=String.fromCharCode(i[0]<<2|i[1]>>4,64==i[2]?0:(15&i[1])<<4|i[2]>>2,64==i[3]?0:(3&i[2])<<6|i[3])}while(r<n.length);return e.replace(/\0/g,"")},u.pixelPing=function(n){var t=new Image;t.onerror=t.onabort=function(){u.d("onerror:",n)},t.src=u.getNormalizedTagUrl(n)},u.pixelPings=function(n){o.isEmpty(n)||o.each(n,function(n){u.pixelPing(n)},this)},u.stringToBoolean=function(n){return"string"==typeof n?-1<n.toLowerCase().indexOf("true")||-1<n.toLowerCase().indexOf("yes"):!!n},u.regexEscape=function(n){return n.replace(/[<>()\[\]{}]/g,"\\$&")},u.getNormalizedTagUrl=function(r,n){var t=(new Date).getTime(),e=escape(document.URL),i=function(n,e){o.each(n,function(n){var t=new RegExp("("+u.regexEscape(n)+")","gi");r=r.replace(t,e)},this)};return i(u.TEMPLATES.RANDOM_PLACE_HOLDER,t),i(u.TEMPLATES.REFERAK_PLACE_HOLDER,e),n&&i(u.TEMPLATES.EMBED_CODE_PLACE_HOLDER,n),r},u.safeSeekRange=function(n){return{start:0<n.length?n.start(0):0,end:0<n.length?n.end(0):0}},u.loadedJS=u.loadedJS||{},u.jsOnSuccessList=u.jsOnSuccessList||{},u.safeFuncCall=function(n){if("function"==typeof n)try{n.apply()}catch(n){u.log("Can not invoke function!",n)}},u.loadScriptOnce=function(n,t,e,r){return u.jsOnSuccessList[n]=u.jsOnSuccessList[n]||[],u.loadedJS[n]?("loaded"===u.loadedJS[n]?u.safeFuncCall(t):"loading"===u.loadedJS[n]&&u.jsOnSuccessList[n].unshift(t),!1):(u.loadedJS[n]="loading",i.ajax({url:n,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){u.loadedJS[n]="loaded",u.jsOnSuccessList[n].unshift(t),u._.each(u.jsOnSuccessList[n],function(n){u.safeFuncCall(n)},this),u.jsOnSuccessList[n]=[]},error:function(){u.safeFuncCall(e)}}),!0)};try{u.localStorage=window.localStorage}catch(n){u.log(n)}u.localStorage||(u.localStorage={getItem:function(n){return n&&this.hasOwnProperty(n)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(n){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[n])},setItem:function(n,t){n&&(document.cookie=escape(n)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(n){n&&this.hasOwnProperty(n)&&(document.cookie=escape(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(n){return new RegExp("(?:^|;\\s*)"+escape(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},u.localStorage.length=(document.cookie.match(/\=/g)||u.localStorage).length),u.setItem=function(n,t){try{u.localStorage.setItem(n,t)}catch(n){u.log(n)}},u.ensureNumber=function(n,t){var e;return(null===n||o.isArray(n))&&(n=NaN),e=o.isNumber(n)?n:Number(n),isFinite(e)?e:void 0===t?null:t},u.JSON=window.JSON}(OO,OO._,OO.$)},{}],4:[function(n,t,e){"use strict";n("../../html5-common/js/utils/InitModules/InitOO.js"),n("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),OO.Analytics||(OO.Analytics={}),OO.Analytics.FrameworkInstanceList||(OO.Analytics.FrameworkInstanceList=[]),OO.Analytics.PluginFactoryList||(OO.Analytics.PluginFactoryList=[]),OO.Analytics.RegisterPluginFactory||(OO.Analytics.RegisterPluginFactory=function(n){if(OO.Analytics.PluginFactoryList.push(n),OO.Analytics.FrameworkInstanceList&&OO.Analytics.FrameworkInstanceList.length)for(var t=0;t<OO.Analytics.FrameworkInstanceList.length;t++)OO.Analytics.FrameworkInstanceList[t].registerPluginFactory(n)}),OO.Analytics.FrameworkRegistrationObject||(OO.Analytics.FrameworkRegistrationObject=function(t){this.registerPluginFactory=function(n){t.registerPlugin(n)}}),OO.Analytics.RegisterFrameworkInstance||(OO.Analytics.RegisterFrameworkInstance=function(n){var t=new OO.Analytics.FrameworkRegistrationObject(n);if(n.frameworkRegistrationObject=t,OO.Analytics.FrameworkInstanceList.push(t),OO._.isArray(OO.Analytics.PluginFactoryList)&&0<OO.Analytics.PluginFactoryList.length)for(var e=0;e<OO.Analytics.PluginFactoryList.length;e++)n.registerPlugin(OO.Analytics.PluginFactoryList[e])}),OO.Analytics.UnregisterFrameworkInstance||(OO.Analytics.UnregisterFrameworkInstance=function(n){if(n){var t=n.frameworkRegistrationObject;t&&(OO.Analytics.FrameworkInstanceList=OO._.without(OO.Analytics.FrameworkInstanceList,t))}})},{"../../html5-common/js/utils/InitModules/InitOO.js":1,"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2}],5:[function(n,t,e){"use strict";n("../framework/InitAnalyticsNamespace.js"),n("../../html5-common/js/utils/utils.js");var r=function(n){var h,t=n,g=0,y=0,O=!1,v=!1,m=!1,A=-1,E={},w=!1,b=!1,r=null,i=null,o=[],S=3,k=7,j=15,T=49,I=57;this.testMode=!1,this.getName=function(){return"Nielsen"},this.getVersion=function(){return"v1"},this.setPluginID=function(n){h=n},this.getPluginID=function(){return h};var N=function(n,t){if(r)OO.log("ggPM: ".concat(n," with param: ").concat(t)),(3===n||15===n)&&_.isObject(t)&&t.type&&OO.log("ggPM: loadMetadata type: ".concat(t.type)),r.ggPM(n,t);else{OO.log("ggPM: Storing event: ".concat(n," with param: ").concat(t));var e=_.isObject(t)?_.clone(t):t;o.push({event:n,param:e})}},e=function(){_.isString(h)&&n.unregisterPlugin(h),this.destroy()},a=function(){var n=!1;if(i&&window.NOLCMB){r=window.NOLCMB.getInstance(i.apid);var t=i.nsdkv?i.nsdkv:"511",e={apid:i.apid,sfcode:i.sfcode,apn:i.apn,nsdkv:t};i.nol_sdkDebug&&(e.nol_sdkDebug=i.nol_sdkDebug),r.ggInitialize(e),function(){for(var n;0<o.length;)n=o.shift(),N(n.event,n.param)}(),n=!0}return n};this.init=function(){var n;t&&_.isFunction(t.getRecordedEvents)&&(n=t.getRecordedEvents(),_.each(n,_.bind(function(n){this.processEvent(n.eventName,n.params)},this))),window.NOLCMB||OO.loadScriptOnce("//cdn-gl.imrworldwide.com/novms/js/2/ggcmb510.js",a,e,3e3)},this.setMetadata=function(n){OO.log("Nielsen: PluginID '".concat(h,"' received this metadata:"),n),n&&(i=n,_.extend(E,{type:"content",title:i.title,program:i.program,isfullepisode:i.isfullepisode,adloadtype:2}),i.segB&&(E.segB=i.segB),i.segC&&(E.segC=i.segC),i.crossId1&&(E.crossId1=i.crossId1),i.crossId2&&(E.crossId2=i.crossId2),i.airdate&&(E.airdate=i.airdate)),a()};var x=function(){y=g=0,m=v=O=!1,A=-1};this.destroy=function(){t=null,x()};this.processEvent=function(n,t){switch(OO.log("Nielsen: PluginID '".concat(h,"' received this event '").concat(n,"' with these params:"),t),n){case OO.Analytics.EVENTS.VIDEO_CONTENT_COMPLETED:w=!0,d=Math.floor(g),OO.log("Nielsen Tracking: end with playhead ".concat(d)),N(T,d),N(I,d);break;case OO.Analytics.EVENTS.VIDEO_PLAYING:O=!0,b&&(b=!1,OO.log("Nielsen Tracking: loadMetadata from content play with playhead ".concat(g)),N(j,E));break;case OO.Analytics.EVENTS.VIDEO_PAUSED:v?(f=Math.floor(y),OO.log("Nielsen Tracking: stop from ad pause with ad playhead ".concat(f)),N(k,f)):(p=Math.floor(g),OO.log("Nielsen Tracking: stop from content pause with playhead ".concat(p)),N(k,p));break;case OO.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED:x(),N(S,E);break;case OO.Analytics.EVENTS.VIDEO_SOURCE_CHANGED:t&&t[0]&&t[0].embedCode&&E&&(E.assetid=t[0].embedCode),x();break;case OO.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED:if(t&&t[0]){var e=t[0];e&&E&&e.duration&&(E.length=Math.round(e.duration/1e3),E.title=e.title,E.assetName=e.title),OO.log("Nielsen Tracking: initial loadMetadata from metadata updated with playhead ".concat(g)),N(S,E)}break;case OO.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED:break;case OO.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED:if(t&&t[0]&&t[0].streamPosition){var r=-1,i=!1;v?m&&t[0].videoId===OO.VIDEO.ADS&&(r=y=t[0].streamPosition,OO.log("Nielsen Tracking: ad playhead: ".concat(r)),i=!0):r=g=t[0].streamPosition;var o=(new Date).getTime(),a=A+1e3<=o||this.testMode;0<=r&&a&&(A=o,function(){if(v){var n=Math.floor(y);OO.log("Nielsen Tracking: setPlayheadPosition with ad playhead ".concat(n)),N(T,n)}else{var t=Math.floor(g);OO.log("Nielsen Tracking: setPlayheadPosition with playhead ".concat(t)),N(T,t)}}()),i&&OO.log("Nielsen Tracking: lastPlayheadUpdate: ".concat(A))}break;case OO.Analytics.EVENTS.AD_BREAK_STARTED:v=!0,A=-1,!w&&O&&(s=Math.floor(g),OO.log("Nielsen Tracking: stop from ad break with playhead ".concat(s)),N(T,s),N(k,s));break;case OO.Analytics.EVENTS.AD_BREAK_ENDED:b=!(v=!(A=-1));break;case OO.Analytics.EVENTS.AD_STARTED:t&&t[0]&&t[0].adType===OO.Analytics.AD_TYPE.LINEAR_VIDEO&&(m=!0,c=t[0].adMetadata,l=null,l=g<=0?"preroll":w?"postroll":"midroll",OO.log("Nielsen Tracking: loadMetadata for ad with type: ".concat(l," with ad playhead ").concat(y)),N(j,{type:l,length:c.adDuration,assetid:c.adId}));break;case OO.Analytics.EVENTS.AD_ENDED:t&&t[0]&&t[0].adType===OO.Analytics.AD_TYPE.LINEAR_VIDEO&&(m=!1,u=Math.floor(y),OO.log("Nielsen Tracking: stop with ad playhead ".concat(u)),N(T,u),N(k,u),y=0,A=-1)}var u,c,l,s,f,p,d}};OO.Analytics.RegisterPluginFactory(r),t.exports=r},{"../../html5-common/js/utils/utils.js":3,"../framework/InitAnalyticsNamespace.js":4}],6:[function(n,W,Q){(function(Y){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof Y&&Y.global===Y&&Y||this||{},t=n._,r=Array.prototype,a=Object.prototype,f="undefined"!=typeof Symbol?Symbol.prototype:null,i=r.push,c=r.slice,p=a.toString,o=a.hasOwnProperty,e=Array.isArray,u=Object.keys,l=Object.create,s=function(){},d=function(n){return n instanceof d?n:this instanceof d?void(this._wrapped=n):new d(n)};void 0===Q||Q.nodeType?n._=d:(void 0!==W&&!W.nodeType&&W.exports&&(Q=W.exports=d),Q._=d),d.VERSION="1.9.1";var h,g=function(i,o,n){if(void 0===o)return i;switch(null==n?3:n){case 1:return function(n){return i.call(o,n)};case 3:return function(n,t,e){return i.call(o,n,t,e)};case 4:return function(n,t,e,r){return i.call(o,n,t,e,r)}}return function(){return i.apply(o,arguments)}},y=function(n,t,e){return d.iteratee!==h?d.iteratee(n,t):null==n?d.identity:d.isFunction(n)?g(n,t,e):d.isObject(n)&&!d.isArray(n)?d.matcher(n):d.property(n)};d.iteratee=h=function(n,t){return y(n,t,1/0)};var O=function(i,o){return o=null==o?i.length-1:+o,function(){for(var n=Math.max(arguments.length-o,0),t=Array(n),e=0;e<n;e++)t[e]=arguments[e+o];switch(o){case 0:return i.call(this,t);case 1:return i.call(this,arguments[0],t);case 2:return i.call(this,arguments[0],arguments[1],t)}var r=Array(o+1);for(e=0;e<o;e++)r[e]=arguments[e];return r[o]=t,i.apply(this,r)}},v=function(n){if(!d.isObject(n))return{};if(l)return l(n);s.prototype=n;var t=new s;return s.prototype=null,t},m=function(t){return function(n){return null==n?void 0:n[t]}},A=function(n,t){return null!=n&&o.call(n,t)},E=function(n,t){for(var e=t.length,r=0;r<e;r++){if(null==n)return;n=n[t[r]]}return e?n:void 0},w=Math.pow(2,53)-1,b=m("length"),_=function(n){var t=b(n);return"number"==typeof t&&0<=t&&t<=w};d.each=d.forEach=function(n,t,e){var r,i;if(t=g(t,e),_(n))for(r=0,i=n.length;r<i;r++)t(n[r],r,n);else{var o=d.keys(n);for(r=0,i=o.length;r<i;r++)t(n[o[r]],o[r],n)}return n},d.map=d.collect=function(n,t,e){t=y(t,e);for(var r=!_(n)&&d.keys(n),i=(r||n).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=t(n[u],u,n)}return o};var S=function(c){return function(n,t,e,r){var i=3<=arguments.length;return function(n,t,e,r){var i=!_(n)&&d.keys(n),o=(i||n).length,a=0<c?0:o-1;for(r||(e=n[i?i[a]:a],a+=c);0<=a&&a<o;a+=c){var u=i?i[a]:a;e=t(e,n[u],u,n)}return e}(n,g(t,r,4),e,i)}};d.reduce=d.foldl=d.inject=S(1),d.reduceRight=d.foldr=S(-1),d.find=d.detect=function(n,t,e){var r=(_(n)?d.findIndex:d.findKey)(n,t,e);if(void 0!==r&&-1!==r)return n[r]},d.filter=d.select=function(n,r,t){var i=[];return r=y(r,t),d.each(n,function(n,t,e){r(n,t,e)&&i.push(n)}),i},d.reject=function(n,t,e){return d.filter(n,d.negate(y(t)),e)},d.every=d.all=function(n,t,e){t=y(t,e);for(var r=!_(n)&&d.keys(n),i=(r||n).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(n[a],a,n))return!1}return!0},d.some=d.any=function(n,t,e){t=y(t,e);for(var r=!_(n)&&d.keys(n),i=(r||n).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(n[a],a,n))return!0}return!1},d.contains=d.includes=d.include=function(n,t,e,r){return _(n)||(n=d.values(n)),("number"!=typeof e||r)&&(e=0),0<=d.indexOf(n,t,e)},d.invoke=O(function(n,e,r){var i,o;return d.isFunction(e)?o=e:d.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),d.map(n,function(n){var t=o;if(!t){if(i&&i.length&&(n=E(n,i)),null==n)return;t=n[e]}return null==t?t:t.apply(n,r)})}),d.pluck=function(n,t){return d.map(n,d.property(t))},d.where=function(n,t){return d.filter(n,d.matcher(t))},d.findWhere=function(n,t){return d.find(n,d.matcher(t))},d.max=function(n,r,t){var e,i,o=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var u=0,c=(n=_(n)?n:d.values(n)).length;u<c;u++)null!=(e=n[u])&&o<e&&(o=e);else r=y(r,t),d.each(n,function(n,t,e){i=r(n,t,e),(a<i||i===-1/0&&o===-1/0)&&(o=n,a=i)});return o},d.min=function(n,r,t){var e,i,o=1/0,a=1/0;if(null==r||"number"==typeof r&&"object"!=typeof n[0]&&null!=n)for(var u=0,c=(n=_(n)?n:d.values(n)).length;u<c;u++)null!=(e=n[u])&&e<o&&(o=e);else r=y(r,t),d.each(n,function(n,t,e){((i=r(n,t,e))<a||i===1/0&&o===1/0)&&(o=n,a=i)});return o},d.shuffle=function(n){return d.sample(n,1/0)},d.sample=function(n,t,e){if(null==t||e)return _(n)||(n=d.values(n)),n[d.random(n.length-1)];var r=_(n)?d.clone(n):d.values(n),i=b(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var u=d.random(a,o),c=r[a];r[a]=r[u],r[u]=c}return r.slice(0,t)},d.sortBy=function(n,r,t){var i=0;return r=y(r,t),d.pluck(d.map(n,function(n,t,e){return{value:n,index:i++,criteria:r(n,t,e)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(r<e||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var k=function(a,t){return function(r,i,n){var o=t?[[],[]]:{};return i=y(i,n),d.each(r,function(n,t){var e=i(n,t,r);a(o,n,e)}),o}};d.groupBy=k(function(n,t,e){A(n,e)?n[e].push(t):n[e]=[t]}),d.indexBy=k(function(n,t,e){n[e]=t}),d.countBy=k(function(n,t,e){A(n,e)?n[e]++:n[e]=1});var j=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;d.toArray=function(n){return n?d.isArray(n)?c.call(n):d.isString(n)?n.match(j):_(n)?d.map(n,d.identity):d.values(n):[]},d.size=function(n){return null==n?0:_(n)?n.length:d.keys(n).length},d.partition=k(function(n,t,e){n[e?0:1].push(t)},!0),d.first=d.head=d.take=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[0]:d.initial(n,n.length-t)},d.initial=function(n,t,e){return c.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},d.last=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[n.length-1]:d.rest(n,Math.max(0,n.length-t))},d.rest=d.tail=d.drop=function(n,t,e){return c.call(n,null==t||e?1:t)},d.compact=function(n){return d.filter(n,Boolean)};var T=function(n,t,e,r){for(var i=(r=r||[]).length,o=0,a=b(n);o<a;o++){var u=n[o];if(_(u)&&(d.isArray(u)||d.isArguments(u)))if(t)for(var c=0,l=u.length;c<l;)r[i++]=u[c++];else T(u,t,e,r),i=r.length;else e||(r[i++]=u)}return r};d.flatten=function(n,t){return T(n,t,!1)},d.without=O(function(n,t){return d.difference(n,t)}),d.uniq=d.unique=function(n,t,e,r){d.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=y(e,r));for(var i=[],o=[],a=0,u=b(n);a<u;a++){var c=n[a],l=e?e(c,a,n):c;t&&!e?(a&&o===l||i.push(c),o=l):e?d.contains(o,l)||(o.push(l),i.push(c)):d.contains(i,c)||i.push(c)}return i},d.union=O(function(n){return d.uniq(T(n,!0,!0))}),d.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=b(n);r<i;r++){var o=n[r];if(!d.contains(t,o)){var a;for(a=1;a<e&&d.contains(arguments[a],o);a++);a===e&&t.push(o)}}return t},d.difference=O(function(n,t){return t=T(t,!0,!0),d.filter(n,function(n){return!d.contains(t,n)})}),d.unzip=function(n){for(var t=n&&d.max(n,b).length||0,e=Array(t),r=0;r<t;r++)e[r]=d.pluck(n,r);return e},d.zip=O(d.unzip),d.object=function(n,t){for(var e={},r=0,i=b(n);r<i;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e};var I=function(o){return function(n,t,e){t=y(t,e);for(var r=b(n),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(t(n[i],i,n))return i;return-1}};d.findIndex=I(1),d.findLastIndex=I(-1),d.sortedIndex=function(n,t,e,r){for(var i=(e=y(e,r,1))(t),o=0,a=b(n);o<a;){var u=Math.floor((o+a)/2);e(n[u])<i?o=u+1:a=u}return o};var N=function(o,a,u){return function(n,t,e){var r=0,i=b(n);if("number"==typeof e)0<o?r=0<=e?e:Math.max(e+i,r):i=0<=e?Math.min(e+1,i):e+i+1;else if(u&&e&&i)return n[e=u(n,t)]===t?e:-1;if(t!=t)return 0<=(e=a(c.call(n,r,i),d.isNaN))?e+r:-1;for(e=0<o?r:i-1;0<=e&&e<i;e+=o)if(n[e]===t)return e;return-1}};d.indexOf=N(1,d.findIndex,d.sortedIndex),d.lastIndexOf=N(-1,d.findLastIndex),d.range=function(n,t,e){null==t&&(t=n||0,n=0),e||(e=t<n?-1:1);for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),o=0;o<r;o++,n+=e)i[o]=n;return i},d.chunk=function(n,t){if(null==t||t<1)return[];for(var e=[],r=0,i=n.length;r<i;)e.push(c.call(n,r,r+=t));return e};var x=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var o=v(n.prototype),a=n.apply(o,i);return d.isObject(a)?a:o};d.bind=O(function(t,e,r){if(!d.isFunction(t))throw new TypeError("Bind must be called on a function");var i=O(function(n){return x(t,i,e,this,r.concat(n))});return i}),d.partial=O(function(i,o){var a=d.partial.placeholder,u=function(){for(var n=0,t=o.length,e=Array(t),r=0;r<t;r++)e[r]=o[r]===a?arguments[n++]:o[r];for(;n<arguments.length;)e.push(arguments[n++]);return x(i,u,this,this,e)};return u}),(d.partial.placeholder=d).bindAll=O(function(n,t){var e=(t=T(t,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=t[e];n[r]=d.bind(n[r],n)}}),d.memoize=function(r,i){var o=function(n){var t=o.cache,e=""+(i?i.apply(this,arguments):n);return A(t,e)||(t[e]=r.apply(this,arguments)),t[e]};return o.cache={},o},d.delay=O(function(n,t,e){return setTimeout(function(){return n.apply(null,e)},t)}),d.defer=d.partial(d.delay,d,1),d.throttle=function(e,r,i){var o,a,u,c,l=0;i||(i={});var s=function(){l=!1===i.leading?0:d.now(),o=null,c=e.apply(a,u),o||(a=u=null)},n=function(){var n=d.now();l||!1!==i.leading||(l=n);var t=r-(n-l);return a=this,u=arguments,t<=0||r<t?(o&&(clearTimeout(o),o=null),l=n,c=e.apply(a,u),o||(a=u=null)):o||!1===i.trailing||(o=setTimeout(s,t)),c};return n.cancel=function(){clearTimeout(o),l=0,o=a=u=null},n},d.debounce=function(e,r,i){var o,a,u=function(n,t){o=null,t&&(a=e.apply(n,t))},n=O(function(n){if(o&&clearTimeout(o),i){var t=!o;o=setTimeout(u,r),t&&(a=e.apply(this,n))}else o=d.delay(u,r,this,n);return a});return n.cancel=function(){clearTimeout(o),o=null},n},d.wrap=function(n,t){return d.partial(t,n)},d.negate=function(n){return function(){return!n.apply(this,arguments)}},d.compose=function(){var e=arguments,r=e.length-1;return function(){for(var n=r,t=e[r].apply(this,arguments);n--;)t=e[n].call(this,t);return t}},d.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},d.before=function(n,t){var e;return function(){return 0<--n&&(e=t.apply(this,arguments)),n<=1&&(t=null),e}},d.once=d.partial(d.before,2),d.restArguments=O;var M=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(n,t){var e=P.length,r=n.constructor,i=d.isFunction(r)&&r.prototype||a,o="constructor";for(A(n,o)&&!d.contains(t,o)&&t.push(o);e--;)(o=P[e])in n&&n[o]!==i[o]&&!d.contains(t,o)&&t.push(o)};d.keys=function(n){if(!d.isObject(n))return[];if(u)return u(n);var t=[];for(var e in n)A(n,e)&&t.push(e);return M&&D(n,t),t},d.allKeys=function(n){if(!d.isObject(n))return[];var t=[];for(var e in n)t.push(e);return M&&D(n,t),t},d.values=function(n){for(var t=d.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=n[t[i]];return r},d.mapObject=function(n,t,e){t=y(t,e);for(var r=d.keys(n),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=t(n[u],u,n)}return o},d.pairs=function(n){for(var t=d.keys(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=[t[i],n[t[i]]];return r},d.invert=function(n){for(var t={},e=d.keys(n),r=0,i=e.length;r<i;r++)t[n[e[r]]]=e[r];return t},d.functions=d.methods=function(n){var t=[];for(var e in n)d.isFunction(n[e])&&t.push(e);return t.sort()};var F=function(c,l){return function(n){var t=arguments.length;if(l&&(n=Object(n)),t<2||null==n)return n;for(var e=1;e<t;e++)for(var r=arguments[e],i=c(r),o=i.length,a=0;a<o;a++){var u=i[a];l&&void 0!==n[u]||(n[u]=r[u])}return n}};d.extend=F(d.allKeys),d.extendOwn=d.assign=F(d.keys),d.findKey=function(n,t,e){t=y(t,e);for(var r,i=d.keys(n),o=0,a=i.length;o<a;o++)if(t(n[r=i[o]],r,n))return r};var L,R,C=function(n,t,e){return t in e};d.pick=O(function(n,t){var e={},r=t[0];if(null==n)return e;d.isFunction(r)?(1<t.length&&(r=g(r,t[1])),t=d.allKeys(n)):(r=C,t=T(t,!1,!1),n=Object(n));for(var i=0,o=t.length;i<o;i++){var a=t[i],u=n[a];r(u,a,n)&&(e[a]=u)}return e}),d.omit=O(function(n,e){var t,r=e[0];return d.isFunction(r)?(r=d.negate(r),1<e.length&&(t=e[1])):(e=d.map(T(e,!1,!1),String),r=function(n,t){return!d.contains(e,t)}),d.pick(n,r,t)}),d.defaults=F(d.allKeys,!0),d.create=function(n,t){var e=v(n);return t&&d.extendOwn(e,t),e},d.clone=function(n){return d.isObject(n)?d.isArray(n)?n.slice():d.extend({},n):n},d.tap=function(n,t){return t(n),n},d.isMatch=function(n,t){var e=d.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),o=0;o<r;o++){var a=e[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},L=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return!1;if(n!=n)return t!=t;var i=typeof n;return("function"===i||"object"===i||"object"==typeof t)&&R(n,t,e,r)},R=function(n,t,e,r){n instanceof d&&(n=n._wrapped),t instanceof d&&(t=t._wrapped);var i=p.call(n);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return f.valueOf.call(n)===f.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var a=n.constructor,u=t.constructor;if(a!==u&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(u)&&u instanceof u)&&"constructor"in n&&"constructor"in t)return!1}r=r||[];for(var c=(e=e||[]).length;c--;)if(e[c]===n)return r[c]===t;if(e.push(n),r.push(t),o){if((c=n.length)!==t.length)return!1;for(;c--;)if(!L(n[c],t[c],e,r))return!1}else{var l,s=d.keys(n);if(c=s.length,d.keys(t).length!==c)return!1;for(;c--;)if(l=s[c],!A(t,l)||!L(n[l],t[l],e,r))return!1}return e.pop(),r.pop(),!0},d.isEqual=function(n,t){return L(n,t)},d.isEmpty=function(n){return null==n||(_(n)&&(d.isArray(n)||d.isString(n)||d.isArguments(n))?0===n.length:0===d.keys(n).length)},d.isElement=function(n){return!(!n||1!==n.nodeType)},d.isArray=e||function(n){return"[object Array]"===p.call(n)},d.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},d.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){d["is"+t]=function(n){return p.call(n)==="[object "+t+"]"}}),d.isArguments(arguments)||(d.isArguments=function(n){return A(n,"callee")});var V=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof V&&(d.isFunction=function(n){return"function"==typeof n||!1}),d.isFinite=function(n){return!d.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},d.isNaN=function(n){return d.isNumber(n)&&isNaN(n)},d.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)},d.isNull=function(n){return null===n},d.isUndefined=function(n){return void 0===n},d.has=function(n,t){if(!d.isArray(t))return A(n,t);for(var e=t.length,r=0;r<e;r++){var i=t[r];if(null==n||!o.call(n,i))return!1;n=n[i]}return!!e},d.noConflict=function(){return n._=t,this},d.identity=function(n){return n},d.constant=function(n){return function(){return n}},d.noop=function(){},d.property=function(t){return d.isArray(t)?function(n){return E(n,t)}:m(t)},d.propertyOf=function(t){return null==t?function(){}:function(n){return d.isArray(n)?E(t,n):t[n]}},d.matcher=d.matches=function(t){return t=d.extendOwn({},t),function(n){return d.isMatch(n,t)}},d.times=function(n,t,e){var r=Array(Math.max(0,n));t=g(t,e,1);for(var i=0;i<n;i++)r[i]=t(i);return r},d.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},d.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=d.invert(B),J=function(t){var e=function(n){return t[n]},n="(?:"+d.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,e):n}};d.escape=J(B),d.unescape=J(U),d.result=function(n,t,e){d.isArray(t)||(t=[t]);var r=t.length;if(!r)return d.isFunction(e)?e.call(n):e;for(var i=0;i<r;i++){var o=null==n?void 0:n[t[i]];void 0===o&&(o=e,i=r),n=d.isFunction(o)?o.call(n):o}return n};var q=0;d.uniqueId=function(n){var t=++q+"";return n?n+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,$=function(n){return"\\"+z[n]};d.template=function(o,n,t){!n&&t&&(n=t),n=d.defaults({},n,d.templateSettings);var e,r=RegExp([(n.escape||K).source,(n.interpolate||K).source,(n.evaluate||K).source].join("|")+"|$","g"),a=0,u="__p+='";o.replace(r,function(n,t,e,r,i){return u+=o.slice(a,i).replace(G,$),a=i+n.length,t?u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?u+="'+\n((__t=("+e+"))==null?'':__t)+\n'":r&&(u+="';\n"+r+"\n__p+='"),n}),u+="';\n",n.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{e=new Function(n.variable||"obj","_",u)}catch(n){throw n.source=u,n}var i=function(n){return e.call(this,n,d)},c=n.variable||"obj";return i.source="function("+c+"){\n"+u+"}",i},d.chain=function(n){var t=d(n);return t._chain=!0,t};var H=function(n,t){return n._chain?d(t).chain():t};d.mixin=function(e){return d.each(d.functions(e),function(n){var t=d[n]=e[n];d.prototype[n]=function(){var n=[this._wrapped];return i.apply(n,arguments),H(this,t.apply(d,n))}}),d},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];d.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),d.each(["concat","join","slice"],function(n){var t=r[n];d.prototype[n]=function(){return H(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},d.prototype.valueOf=d.prototype.toJSON=d.prototype.value,d.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[5]);