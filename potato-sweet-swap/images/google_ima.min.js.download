!function a(i,l,d){function u(n,e){if(!l[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(s)return s(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=l[n]={exports:{}};i[n][0].call(o.exports,function(e){return u(i[n][1][e]||e)},o,o.exports,a,i,l,d)}return l[n].exports}for(var s="function"==typeof require&&require,e=0;e<d.length;e++)u(d[e]);return u}({1:[function(e,n,t){OO||(OO={})},{}],2:[function(e,n,t){e("./InitOO.js"),window._||(window._=e("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:5}],3:[function(e,n,t){var r,o;r=OO,o=OO._,r.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},r.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",HEVC_CHECKED:"hevcChecked",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",EMBED_CODE_CHANGED:"embedCodeChanged",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",SKIN_METADATA_FETCHED:"skinMetadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",WILL_PLAY:"willPlay",REPLAY:"replay",SET_PLAYBACK_SPEED:"setPlaybackSpeed",PLAYBACK_SPEED_CHANGED:"playbackSpeedChanged",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",SKIN_UI_LANGUAGE:"skinUiLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",DISPLAY_CUE_POINTS:"displayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CHANGE_MUTE_STATE:"changeMuteState",MUTE_STATE_CHANGED:"muteStateChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",API_ERROR:"apiError",BITRATE_INITIAL:"bitrateInitial",BITRATE_FIVE_SEC:"bitrateFiveSec",BITRATE_STABLE:"bitrateStable",PLAYBACK_START_ERROR:"playbackStartError",PLAYBACK_MIDSTREAM_ERROR:"playbackMidstreamError",PLUGIN_LOADED:"pluginLoaded",VC_PLUGIN_ERROR:"videoPluginError",INITIAL_PLAY_STARTING:"initialPlayStarting",REQUEST_PREVIOUS_VIDEO:"requestPreviousVideo",REQUEST_NEXT_VIDEO:"requestNextVideo",POSITION_IN_PLAYLIST_DETERMINED:"positionInPlaylistDetermined",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",PLAY_VIDEO_ELEMENT:"playVideoElement",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",INITIAL_PLAY_STARTING:"initialPlayStarting",AD_SDK_LOADED:"adSdkLoaded",AD_SDK_LOAD_FAILED:"adSdkLoadFailed",AD_REQUEST:"adRequest",AD_REQUEST_SUCCESS:"adRequestSuccess",AD_REQUEST_ERROR:"adRequestError",AD_REQUEST_EMPTY:"adRequestEmpty",AD_PLAYBACK_ERROR:"adPlaybackError",AD_SDK_IMPRESSION:"adSdkImpression",AD_COMPLETED:"adCompleted",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_CONTROLS:"showAdControls",SHOW_AD_MARQUEE:"showAdMarquee",SDK_AD_EVENT:"sdkAdEvent",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",DISCOVERY_API:{SEND_DISPLAY_EVENT:"sendDisplayEvent",SEND_CLICK_EVENT:"sendClickEvent"},PLAYLISTS_READY:"playlistReady",VIDEO_TYPE_CHANGED:"videoTypeChanged",UI_READY:"uiReady",__end_marker:!0},r.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"},MEDIA:{MEDIA_ERR_ABORTED:"aborted",MEDIA_ERR_NETWORK:"network_error",MEDIA_ERR_DECODE:"decode_error",MEDIA_ERR_SRC_NOT_SUPPORTED:"unsupported_source"}},r.URLS={VAST_PROXY:o.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:o.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:o.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:o.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:o.template("<%=server%>/player_api/v1/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:o.template("<%=server%>/reporter.js"),THUMBNAILS:o.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:!0},r.TRACKING_LEVEL={DEFAULT:"default",ANONYMOUS:"anonymous",DISABLED:"disabled"},r.PLUGINS={ADS:"ads",VIDEO:"video",ANALYTICS:"analytics",PLAYLIST:"playlist",SKIN:"skin"},r.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",AUDIO_OGG:"audio_ogg",AUDIO_M4A:"audio_m4a",AUDIO_HLS:"audio_hls",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},r.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},r.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]","[description_url]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:!0},r.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:3,PLAYER_TYPE:{VIDEO:"video",AUDIO:"audio"},HEVC_CODEC:{HEV1:"hev1",HVC1:"hvc1"},CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",PLAYBACK_SPEED:{MIN:.5,MAX:2},__end_marker:!0}},{}],4:[function(e,n,t){!function(l,a,o){l.getRandomString=function(){return Math.random().toString(36).substring(7)},l.safeClone=function(e){if(a.isNumber(e)||a.isString(e)||a.isBoolean(e)||a.isFunction(e)||a.isNull(e)||a.isUndefined(e))return e;var n=e instanceof Array?[]:{};try{o.extend(!0,n,e)}catch(e){l.log("deep clone error",e)}return n},l.d=function(){l.isDebug&&l.log.apply(l,arguments),l.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(l.safeClone(arguments))+"<br>")},l.inherit=function(e,n){if("function"!=typeof e)return l.log("invalid inherit, ParentClass need to be a class",e),null;var t=function(){e.apply(this,arguments),"function"==typeof n&&n.apply(this,arguments)},r=new e;return l._.extend(t.prototype,r),t.prototype.parentClass=r,t};var r={};l.attachStyle=function(e,n){var t=o('<style type="text/css">'+e+"</style>").appendTo("head");r[n]=r[n]||[],r[n].push(t)},l.removeStyles=function(e){l._.each(r[e],function(e){e.remove()})},l.getInnerProperty=function(e,n){for(var t=e,r=n;0<r.length;){var o=r.shift();if(a.isNull(t)||!a.isObject(t)||a.isFunction(t)||a.isArray(t))return null;t=t[o]}return t},l.formatSeconds=function(e){var n=parseInt(e,10)%60,t=parseInt(e/3600,10),r=parseInt((e-3600*t)/60,10);return t<10&&(t="0"+t),r<10&&(r="0"+r),n<10&&(n="0"+n),0<parseInt(t,10)?t+":"+r+":"+n:r+":"+n},l.timeStringToSeconds=function(e){var n=(e||"").split(":");return a.reduce(n,function(e,n){return 60*e+parseInt(n,10)},0)},l.leftPadding=function(e,n){for(var t=e?e.toString():"";t.length<n;)t="0"+t;return t},l.getColorString=function(e){return"#"+l.leftPadding(e.toString(16),6).toUpperCase()},l.hexToRgb=function(e){return[(16711680&e)>>16,(65280&e)>>8,255&e]},l.changeColor=function(e,n,t){var r=t?Math.max:Math.min,o=t?0:255,a=Math.round(255*n)*(t?-1:1),i=l.hexToRgb(e);return[l.leftPadding(r(i[0]+a,o).toString(16),2),l.leftPadding(r(i[1]+a,o).toString(16),2),l.leftPadding(r(i[2]+a,o).toString(16),2)].join("")},l.decode64=function(e){e=e.replace(/\n/g,"");var n,t="",r=0,o=[];if(window.atob)return atob(e);do{for(n=0;n<4;n++)o[n]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++));t+=String.fromCharCode(o[0]<<2|o[1]>>4,64==o[2]?0:(15&o[1])<<4|o[2]>>2,64==o[3]?0:(3&o[2])<<6|o[3])}while(r<e.length);return t.replace(/\0/g,"")},l.pixelPing=function(e){var n=new Image;n.onerror=n.onabort=function(){l.d("onerror:",e)},n.src=l.getNormalizedTagUrl(e)},l.pixelPings=function(e){a.isEmpty(e)||a.each(e,function(e){l.pixelPing(e)},this)},l.stringToBoolean=function(e){return"string"==typeof e?-1<e.toLowerCase().indexOf("true")||-1<e.toLowerCase().indexOf("yes"):!!e},l.regexEscape=function(e){return e.replace(/[<>()\[\]{}]/g,"\\$&")},l.getNormalizedTagUrl=function(r,e){var n=(new Date).getTime(),t=escape(document.URL),o=function(e,t){a.each(e,function(e){var n=new RegExp("("+l.regexEscape(e)+")","gi");r=r.replace(n,t)},this)};return o(l.TEMPLATES.RANDOM_PLACE_HOLDER,n),o(l.TEMPLATES.REFERAK_PLACE_HOLDER,t),e&&o(l.TEMPLATES.EMBED_CODE_PLACE_HOLDER,e),r},l.safeSeekRange=function(e){return{start:0<e.length?e.start(0):0,end:0<e.length?e.end(0):0}},l.loadedJS=l.loadedJS||{},l.jsOnSuccessList=l.jsOnSuccessList||{},l.safeFuncCall=function(e){if("function"==typeof e)try{e.apply()}catch(e){l.log("Can not invoke function!",e)}},l.loadScriptOnce=function(e,n,t,r){return l.jsOnSuccessList[e]=l.jsOnSuccessList[e]||[],l.loadedJS[e]?("loaded"===l.loadedJS[e]?l.safeFuncCall(n):"loading"===l.loadedJS[e]&&l.jsOnSuccessList[e].unshift(n),!1):(l.loadedJS[e]="loading",o.ajax({url:e,type:"GET",cache:!0,dataType:"script",timeout:r||15e3,success:function(){l.loadedJS[e]="loaded",l.jsOnSuccessList[e].unshift(n),l._.each(l.jsOnSuccessList[e],function(e){l.safeFuncCall(e)},this),l.jsOnSuccessList[e]=[]},error:function(){l.safeFuncCall(t)}}),!0)};try{l.localStorage=window.localStorage}catch(e){l.log(e)}l.localStorage||(l.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,n){e&&(document.cookie=escape(e)+"="+escape(n)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},l.localStorage.length=(document.cookie.match(/\=/g)||l.localStorage).length),l.setItem=function(e,n){try{l.localStorage.setItem(e,n)}catch(e){l.log(e)}},l.ensureNumber=function(e,n){var t;return(null===e||a.isArray(e))&&(e=NaN),t=a.isNumber(e)?e:Number(e),isFinite(t)?t:void 0===n?null:n},l.JSON=window.JSON}(OO,OO._,OO.$)},{}],5:[function(e,X,J){(function(z){!function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof z&&z.global===z&&z||this||{},n=e._,r=Array.prototype,i=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,o=r.push,d=r.slice,E=i.toString,a=i.hasOwnProperty,t=Array.isArray,l=Object.keys,u=Object.create,s=function(){},A=function(e){return e instanceof A?e:this instanceof A?void(this._wrapped=e):new A(e)};void 0===J||J.nodeType?e._=A:(void 0!==X&&!X.nodeType&&X.exports&&(J=X.exports=A),J._=A),A.VERSION="1.9.1";var f,_=function(o,a,e){if(void 0===a)return o;switch(null==e?3:e){case 1:return function(e){return o.call(a,e)};case 3:return function(e,n,t){return o.call(a,e,n,t)};case 4:return function(e,n,t,r){return o.call(a,e,n,t,r)}}return function(){return o.apply(a,arguments)}},p=function(e,n,t){return A.iteratee!==f?A.iteratee(e,n):null==e?A.identity:A.isFunction(e)?_(e,n,t):A.isObject(e)&&!A.isArray(e)?A.matcher(e):A.property(e)};A.iteratee=f=function(e,n){return p(e,n,1/0)};var g=function(o,a){return a=null==a?o.length-1:+a,function(){for(var e=Math.max(arguments.length-a,0),n=Array(e),t=0;t<e;t++)n[t]=arguments[t+a];switch(a){case 0:return o.call(this,n);case 1:return o.call(this,arguments[0],n);case 2:return o.call(this,arguments[0],arguments[1],n)}var r=Array(a+1);for(t=0;t<a;t++)r[t]=arguments[t];return r[a]=n,o.apply(this,r)}},T=function(e){if(!A.isObject(e))return{};if(u)return u(e);s.prototype=e;var n=new s;return s.prototype=null,n},O=function(n){return function(e){return null==e?void 0:e[n]}},I=function(e,n){return null!=e&&a.call(e,n)},m=function(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0},S=Math.pow(2,53)-1,h=O("length"),y=function(e){var n=h(e);return"number"==typeof n&&0<=n&&n<=S};A.each=A.forEach=function(e,n,t){var r,o;if(n=_(n,t),y(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var a=A.keys(e);for(r=0,o=a.length;r<o;r++)n(e[a[r]],a[r],e)}return e},A.map=A.collect=function(e,n,t){n=p(n,t);for(var r=!y(e)&&A.keys(e),o=(r||e).length,a=Array(o),i=0;i<o;i++){var l=r?r[i]:i;a[i]=n(e[l],l,e)}return a};var D=function(d){return function(e,n,t,r){var o=3<=arguments.length;return function(e,n,t,r){var o=!y(e)&&A.keys(e),a=(o||e).length,i=0<d?0:a-1;for(r||(t=e[o?o[i]:i],i+=d);0<=i&&i<a;i+=d){var l=o?o[i]:i;t=n(t,e[l],l,e)}return t}(e,_(n,r,4),t,o)}};A.reduce=A.foldl=A.inject=D(1),A.reduceRight=A.foldr=D(-1),A.find=A.detect=function(e,n,t){var r=(y(e)?A.findIndex:A.findKey)(e,n,t);if(void 0!==r&&-1!==r)return e[r]},A.filter=A.select=function(e,r,n){var o=[];return r=p(r,n),A.each(e,function(e,n,t){r(e,n,t)&&o.push(e)}),o},A.reject=function(e,n,t){return A.filter(e,A.negate(p(n)),t)},A.every=A.all=function(e,n,t){n=p(n,t);for(var r=!y(e)&&A.keys(e),o=(r||e).length,a=0;a<o;a++){var i=r?r[a]:a;if(!n(e[i],i,e))return!1}return!0},A.some=A.any=function(e,n,t){n=p(n,t);for(var r=!y(e)&&A.keys(e),o=(r||e).length,a=0;a<o;a++){var i=r?r[a]:a;if(n(e[i],i,e))return!0}return!1},A.contains=A.includes=A.include=function(e,n,t,r){return y(e)||(e=A.values(e)),("number"!=typeof t||r)&&(t=0),0<=A.indexOf(e,n,t)},A.invoke=g(function(e,t,r){var o,a;return A.isFunction(t)?a=t:A.isArray(t)&&(o=t.slice(0,-1),t=t[t.length-1]),A.map(e,function(e){var n=a;if(!n){if(o&&o.length&&(e=m(e,o)),null==e)return;n=e[t]}return null==n?n:n.apply(e,r)})}),A.pluck=function(e,n){return A.map(e,A.property(n))},A.where=function(e,n){return A.filter(e,A.matcher(n))},A.findWhere=function(e,n){return A.find(e,A.matcher(n))},A.max=function(e,r,n){var t,o,a=-1/0,i=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var l=0,d=(e=y(e)?e:A.values(e)).length;l<d;l++)null!=(t=e[l])&&a<t&&(a=t);else r=p(r,n),A.each(e,function(e,n,t){o=r(e,n,t),(i<o||o===-1/0&&a===-1/0)&&(a=e,i=o)});return a},A.min=function(e,r,n){var t,o,a=1/0,i=1/0;if(null==r||"number"==typeof r&&"object"!=typeof e[0]&&null!=e)for(var l=0,d=(e=y(e)?e:A.values(e)).length;l<d;l++)null!=(t=e[l])&&t<a&&(a=t);else r=p(r,n),A.each(e,function(e,n,t){((o=r(e,n,t))<i||o===1/0&&a===1/0)&&(a=e,i=o)});return a},A.shuffle=function(e){return A.sample(e,1/0)},A.sample=function(e,n,t){if(null==n||t)return y(e)||(e=A.values(e)),e[A.random(e.length-1)];var r=y(e)?A.clone(e):A.values(e),o=h(r);n=Math.max(Math.min(n,o),0);for(var a=o-1,i=0;i<n;i++){var l=A.random(i,a),d=r[i];r[i]=r[l],r[l]=d}return r.slice(0,n)},A.sortBy=function(e,r,n){var o=0;return r=p(r,n),A.pluck(A.map(e,function(e,n,t){return{value:e,index:o++,criteria:r(e,n,t)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(r<t||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index}),"value")};var C=function(i,n){return function(r,o,e){var a=n?[[],[]]:{};return o=p(o,e),A.each(r,function(e,n){var t=o(e,n,r);i(a,e,t)}),a}};A.groupBy=C(function(e,n,t){I(e,t)?e[t].push(n):e[t]=[n]}),A.indexBy=C(function(e,n,t){e[t]=n}),A.countBy=C(function(e,n,t){I(e,t)?e[t]++:e[t]=1});var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;A.toArray=function(e){return e?A.isArray(e)?d.call(e):A.isString(e)?e.match(R):y(e)?A.map(e,A.identity):A.values(e):[]},A.size=function(e){return null==e?0:y(e)?e.length:A.keys(e).length},A.partition=C(function(e,n,t){e[t?0:1].push(n)},!0),A.first=A.head=A.take=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[0]:A.initial(e,e.length-n)},A.initial=function(e,n,t){return d.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},A.last=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[e.length-1]:A.rest(e,Math.max(0,e.length-n))},A.rest=A.tail=A.drop=function(e,n,t){return d.call(e,null==n||t?1:n)},A.compact=function(e){return A.filter(e,Boolean)};var v=function(e,n,t,r){for(var o=(r=r||[]).length,a=0,i=h(e);a<i;a++){var l=e[a];if(y(l)&&(A.isArray(l)||A.isArguments(l)))if(n)for(var d=0,u=l.length;d<u;)r[o++]=l[d++];else v(l,n,t,r),o=r.length;else t||(r[o++]=l)}return r};A.flatten=function(e,n){return v(e,n,!1)},A.without=g(function(e,n){return A.difference(e,n)}),A.uniq=A.unique=function(e,n,t,r){A.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=p(t,r));for(var o=[],a=[],i=0,l=h(e);i<l;i++){var d=e[i],u=t?t(d,i,e):d;n&&!t?(i&&a===u||o.push(d),a=u):t?A.contains(a,u)||(a.push(u),o.push(d)):A.contains(o,d)||o.push(d)}return o},A.union=g(function(e){return A.uniq(v(e,!0,!0))}),A.intersection=function(e){for(var n=[],t=arguments.length,r=0,o=h(e);r<o;r++){var a=e[r];if(!A.contains(n,a)){var i;for(i=1;i<t&&A.contains(arguments[i],a);i++);i===t&&n.push(a)}}return n},A.difference=g(function(e,n){return n=v(n,!0,!0),A.filter(e,function(e){return!A.contains(n,e)})}),A.unzip=function(e){for(var n=e&&A.max(e,h).length||0,t=Array(n),r=0;r<n;r++)t[r]=A.pluck(e,r);return t},A.zip=g(A.unzip),A.object=function(e,n){for(var t={},r=0,o=h(e);r<o;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t};var L=function(a){return function(e,n,t){n=p(n,t);for(var r=h(e),o=0<a?0:r-1;0<=o&&o<r;o+=a)if(n(e[o],o,e))return o;return-1}};A.findIndex=L(1),A.findLastIndex=L(-1),A.sortedIndex=function(e,n,t,r){for(var o=(t=p(t,r,1))(n),a=0,i=h(e);a<i;){var l=Math.floor((a+i)/2);t(e[l])<o?a=l+1:i=l}return a};var N=function(a,i,l){return function(e,n,t){var r=0,o=h(e);if("number"==typeof t)0<a?r=0<=t?t:Math.max(t+o,r):o=0<=t?Math.min(t+1,o):t+o+1;else if(l&&t&&o)return e[t=l(e,n)]===n?t:-1;if(n!=n)return 0<=(t=i(d.call(e,r,o),A.isNaN))?t+r:-1;for(t=0<a?r:o-1;0<=t&&t<o;t+=a)if(e[t]===n)return t;return-1}};A.indexOf=N(1,A.findIndex,A.sortedIndex),A.lastIndexOf=N(-1,A.findLastIndex),A.range=function(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),o=Array(r),a=0;a<r;a++,e+=t)o[a]=e;return o},A.chunk=function(e,n){if(null==n||n<1)return[];for(var t=[],r=0,o=e.length;r<o;)t.push(d.call(e,r,r+=n));return t};var P=function(e,n,t,r,o){if(!(r instanceof n))return e.apply(t,o);var a=T(e.prototype),i=e.apply(a,o);return A.isObject(i)?i:a};A.bind=g(function(n,t,r){if(!A.isFunction(n))throw new TypeError("Bind must be called on a function");var o=g(function(e){return P(n,o,t,this,r.concat(e))});return o}),A.partial=g(function(o,a){var i=A.partial.placeholder,l=function(){for(var e=0,n=a.length,t=Array(n),r=0;r<n;r++)t[r]=a[r]===i?arguments[e++]:a[r];for(;e<arguments.length;)t.push(arguments[e++]);return P(o,l,this,this,t)};return l}),(A.partial.placeholder=A).bindAll=g(function(e,n){var t=(n=v(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=A.bind(e[r],e)}}),A.memoize=function(r,o){var a=function(e){var n=a.cache,t=""+(o?o.apply(this,arguments):e);return I(n,t)||(n[t]=r.apply(this,arguments)),n[t]};return a.cache={},a},A.delay=g(function(e,n,t){return setTimeout(function(){return e.apply(null,t)},n)}),A.defer=A.partial(A.delay,A,1),A.throttle=function(t,r,o){var a,i,l,d,u=0;o||(o={});var s=function(){u=!1===o.leading?0:A.now(),a=null,d=t.apply(i,l),a||(i=l=null)},e=function(){var e=A.now();u||!1!==o.leading||(u=e);var n=r-(e-u);return i=this,l=arguments,n<=0||r<n?(a&&(clearTimeout(a),a=null),u=e,d=t.apply(i,l),a||(i=l=null)):a||!1===o.trailing||(a=setTimeout(s,n)),d};return e.cancel=function(){clearTimeout(a),u=0,a=i=l=null},e},A.debounce=function(t,r,o){var a,i,l=function(e,n){a=null,n&&(i=t.apply(e,n))},e=g(function(e){if(a&&clearTimeout(a),o){var n=!a;a=setTimeout(l,r),n&&(i=t.apply(this,e))}else a=A.delay(l,r,this,e);return i});return e.cancel=function(){clearTimeout(a),a=null},e},A.wrap=function(e,n){return A.partial(n,e)},A.negate=function(e){return function(){return!e.apply(this,arguments)}},A.compose=function(){var t=arguments,r=t.length-1;return function(){for(var e=r,n=t[r].apply(this,arguments);e--;)n=t[e].call(this,n);return n}},A.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},A.before=function(e,n){var t;return function(){return 0<--e&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},A.once=A.partial(A.before,2),A.restArguments=g;var M=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=function(e,n){var t=V.length,r=e.constructor,o=A.isFunction(r)&&r.prototype||i,a="constructor";for(I(e,a)&&!A.contains(n,a)&&n.push(a);t--;)(a=V[t])in e&&e[a]!==o[a]&&!A.contains(n,a)&&n.push(a)};A.keys=function(e){if(!A.isObject(e))return[];if(l)return l(e);var n=[];for(var t in e)I(e,t)&&n.push(t);return M&&b(e,n),n},A.allKeys=function(e){if(!A.isObject(e))return[];var n=[];for(var t in e)n.push(t);return M&&b(e,n),n},A.values=function(e){for(var n=A.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e[n[o]];return r},A.mapObject=function(e,n,t){n=p(n,t);for(var r=A.keys(e),o=r.length,a={},i=0;i<o;i++){var l=r[i];a[l]=n(e[l],l,e)}return a},A.pairs=function(e){for(var n=A.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=[n[o],e[n[o]]];return r},A.invert=function(e){for(var n={},t=A.keys(e),r=0,o=t.length;r<o;r++)n[e[t[r]]]=t[r];return n},A.functions=A.methods=function(e){var n=[];for(var t in e)A.isFunction(e[t])&&n.push(t);return n.sort()};var U=function(d,u){return function(e){var n=arguments.length;if(u&&(e=Object(e)),n<2||null==e)return e;for(var t=1;t<n;t++)for(var r=arguments[t],o=d(r),a=o.length,i=0;i<a;i++){var l=o[i];u&&void 0!==e[l]||(e[l]=r[l])}return e}};A.extend=U(A.allKeys),A.extendOwn=A.assign=U(A.keys),A.findKey=function(e,n,t){n=p(n,t);for(var r,o=A.keys(e),a=0,i=o.length;a<i;a++)if(n(e[r=o[a]],r,e))return r};var w,k,F=function(e,n,t){return n in t};A.pick=g(function(e,n){var t={},r=n[0];if(null==e)return t;A.isFunction(r)?(1<n.length&&(r=_(r,n[1])),n=A.allKeys(e)):(r=F,n=v(n,!1,!1),e=Object(e));for(var o=0,a=n.length;o<a;o++){var i=n[o],l=e[i];r(l,i,e)&&(t[i]=l)}return t}),A.omit=g(function(e,t){var n,r=t[0];return A.isFunction(r)?(r=A.negate(r),1<t.length&&(n=t[1])):(t=A.map(v(t,!1,!1),String),r=function(e,n){return!A.contains(t,n)}),A.pick(e,r,n)}),A.defaults=U(A.allKeys,!0),A.create=function(e,n){var t=T(e);return n&&A.extendOwn(t,n),t},A.clone=function(e){return A.isObject(e)?A.isArray(e)?e.slice():A.extend({},e):e},A.tap=function(e,n){return n(e),e},A.isMatch=function(e,n){var t=A.keys(n),r=t.length;if(null==e)return!r;for(var o=Object(e),a=0;a<r;a++){var i=t[a];if(n[i]!==o[i]||!(i in o))return!1}return!0},w=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&k(e,n,t,r)},k=function(e,n,t,r){e instanceof A&&(e=e._wrapped),n instanceof A&&(n=n._wrapped);var o=E.call(e);if(o!==E.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(n)}var a="[object Array]"===o;if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var i=e.constructor,l=n.constructor;if(i!==l&&!(A.isFunction(i)&&i instanceof i&&A.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];for(var d=(t=t||[]).length;d--;)if(t[d]===e)return r[d]===n;if(t.push(e),r.push(n),a){if((d=e.length)!==n.length)return!1;for(;d--;)if(!w(e[d],n[d],t,r))return!1}else{var u,s=A.keys(e);if(d=s.length,A.keys(n).length!==d)return!1;for(;d--;)if(u=s[d],!I(n,u)||!w(e[u],n[u],t,r))return!1}return t.pop(),r.pop(),!0},A.isEqual=function(e,n){return w(e,n)},A.isEmpty=function(e){return null==e||(y(e)&&(A.isArray(e)||A.isString(e)||A.isArguments(e))?0===e.length:0===A.keys(e).length)},A.isElement=function(e){return!(!e||1!==e.nodeType)},A.isArray=t||function(e){return"[object Array]"===E.call(e)},A.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},A.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){A["is"+n]=function(e){return E.call(e)==="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(e){return I(e,"callee")});var G=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof G&&(A.isFunction=function(e){return"function"==typeof e||!1}),A.isFinite=function(e){return!A.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},A.isNaN=function(e){return A.isNumber(e)&&isNaN(e)},A.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===E.call(e)},A.isNull=function(e){return null===e},A.isUndefined=function(e){return void 0===e},A.has=function(e,n){if(!A.isArray(n))return I(e,n);for(var t=n.length,r=0;r<t;r++){var o=n[r];if(null==e||!a.call(e,o))return!1;e=e[o]}return!!t},A.noConflict=function(){return e._=n,this},A.identity=function(e){return e},A.constant=function(e){return function(){return e}},A.noop=function(){},A.property=function(n){return A.isArray(n)?function(e){return m(e,n)}:O(n)},A.propertyOf=function(n){return null==n?function(){}:function(e){return A.isArray(e)?m(n,e):n[e]}},A.matcher=A.matches=function(n){return n=A.extendOwn({},n),function(e){return A.isMatch(e,n)}},A.times=function(e,n,t){var r=Array(Math.max(0,e));n=_(n,t,1);for(var o=0;o<e;o++)r[o]=n(o);return r},A.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},A.now=Date.now||function(){return(new Date).getTime()};var Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=A.invert(Y),x=function(n){var t=function(e){return n[e]},e="(?:"+A.keys(n).join("|")+")",r=RegExp(e),o=RegExp(e,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};A.escape=x(Y),A.unescape=x(H),A.result=function(e,n,t){A.isArray(n)||(n=[n]);var r=n.length;if(!r)return A.isFunction(t)?t.call(e):t;for(var o=0;o<r;o++){var a=null==e?void 0:e[n[o]];void 0===a&&(a=t,o=r),e=A.isFunction(a)?a.call(e):a}return e};var j=0;A.uniqueId=function(e){var n=++j+"";return e?e+n:n},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+W[e]};A.template=function(a,e,n){!e&&n&&(e=n),e=A.defaults({},e,A.templateSettings);var t,r=RegExp([(e.escape||B).source,(e.interpolate||B).source,(e.evaluate||B).source].join("|")+"|$","g"),i=0,l="__p+='";a.replace(r,function(e,n,t,r,o){return l+=a.slice(i,o).replace(K,q),i=o+e.length,n?l+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":t?l+="'+\n((__t=("+t+"))==null?'':__t)+\n'":r&&(l+="';\n"+r+"\n__p+='"),e}),l+="';\n",e.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{t=new Function(e.variable||"obj","_",l)}catch(e){throw e.source=l,e}var o=function(e){return t.call(this,e,A)},d=e.variable||"obj";return o.source="function("+d+"){\n"+l+"}",o},A.chain=function(e){var n=A(e);return n._chain=!0,n};var Q=function(e,n){return e._chain?A(n).chain():n};A.mixin=function(t){return A.each(A.functions(t),function(e){var n=A[e]=t[e];A.prototype[e]=function(){var e=[this._wrapped];return o.apply(e,arguments),Q(this,n.apply(A,e))}}),A},A.mixin(A),A.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];A.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],Q(this,e)}}),A.each(["concat","join","slice"],function(e){var n=r[e];A.prototype[e]=function(){return Q(this,n.apply(this._wrapped,arguments))}}),A.prototype.value=function(){return this._wrapped},A.prototype.valueOf=A.prototype.toJSON=A.prototype.value,A.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return A})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,n,t){"use strict";function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=e("underscore"),ae=r.find,ie=r.isFinite,le=r.filter,de=r.delay,ue=r.each,se=r.contains,s=r.pairs;e("../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e("../html5-common/js/utils/constants.js"),e("../html5-common/js/utils/utils.js"),function(d){var oe={};OO.Ads.manager(function(){var te=function(e){throw new Error("GOOGLE IMA: ".concat(e))},re=function(){return!(OO.iosMajorVersion<10&&OO.isIphone)};return new function(){var f=this;this.name="google-ima-ads-manager",this.ready=!1,this.runningUnitTests=!1,this.sharedVideoElement=null,this.initTime=Date.now(),this.enableIosSkippableAds=!1;var _,p,i,g,n,a,T,O=null,t=!1,I=null,m=null,S=null,r=!1,o=null,l=null,d={left:OO.CSS.INVISIBLE_POSITION,visibility:"hidden"},u="ooyalaImaPluginTimeout",s=function(){_?_.currentTime=0:_={duration:0,currentTime:0}},c=function(){f.ready=!1,p=!0,f.startImaOnVtcPlay=!1,f.capturedUserClick=!1,f.initialPlayRequestTime=-1,f.adRequestTime=-1,f.adResponseTime=-1,f.mainContentDuration=0,f.initialPlayRequested=!1,f.canSetupAdsRequest=!0,f.adTagUrl=null,f.currentMedia=null,f.currentImpressionTime=0,f.adFinalTagUrl=null,f.adPosition=-1,f.adsReady=!1,f.additionalAdTagParameters=null,f.adsRequested=!1,f.adsRequestTimeoutRef=null,f.disableFlashAds=!1,f.contentEnded=!1,f.pauseAdOnClick=null,f.isFullscreen=!1,f.maxAdsRequestTimeout=15e3,f.uiRegistered=!1,f.metadataReady=!1,f.allAdInfo=null,f.currentAMCAdPod=null,f.currentIMAAd=null,f.currentNonLinearIMAAd=null,f.isReplay=!1,f.requestAdsOnReplay=!0,f.preloadAds=!1,T=!1,s(),f.hasPreroll=!1,f.adPlaybackStarted=!1,f.savedVolume=-1,f.showAdControls=!1,f.useGoogleAdUI=!1,f.useGoogleCountdown=!1,f.useInsecureVpaidMode=!1,f.imaIframeZIndex=10004,f.adRulesLoadError=!1,n=!1,a=g=i=l=o=null},e=function(e){if(!e)return!1;var n=e.tag_url,t="r"===e.position_type;return p===t&&n&&"string"==typeof n},E=function(){return f.allAdInfo?le(f.allAdInfo,e):null},h=function(){var e=!1,n=p&&!f.hasPreroll&&f.currentAMCAdPod&&f.currentAMCAdPod.adType===O.ADTYPE.UNKNOWN_AD_REQUEST;return f.willPlayAdMuted()&&f.videoControllerWrapper&&!n&&(f.startImaOnVtcPlay=!0,f.videoControllerWrapper.raiseUnmutedPlaybackFailed(),e=!0),e},A=function(){!1===f.contentEnded&&(f.contentEnded=!0,i&&i.contentComplete())},y=function(e,n,t){_||s(),T||(_.currentTime=n,_.duration=t)},D=function(){!function(){if(g&&m){var e=f.isFullscreen?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL,n=m.clientWidth,t=m.clientHeight;f.currentAMCAdPod&&f.currentNonLinearIMAAd&&(f.currentAMCAdPod.width&&(n=f.currentAMCAdPod.width,f.currentAMCAdPod.paddingWidth&&(n+=f.currentAMCAdPod.paddingWidth)),f.currentAMCAdPod.height&&(t=f.currentAMCAdPod.height,f.currentAMCAdPod.paddingHeight&&(t+=f.currentAMCAdPod.paddingHeight))),g.resize(n,t,e)}}()},C=function(e,n){f.isFullscreen=n,D()},R=function(){return google&&google.ima&&google.ima.AdDisplayContainer},v=function(){i&&(i.destroy(),i=null)},L=function(){g&&(g.stop(),g.destroy(),g=null,n=!1)},N=function(){p&&O&&O.adManagerDoneControllingAds(f.name)},P=function(){N(),L(),i&&i.contentComplete(),f.currentIMAAd=null,f.currentNonLinearIMAAd=null,f.adsRequested=!1};this.createAdVideoElementOnPlayerInit=function(){return[OO.VIDEO.ENCODING.IMA]};var M=function(){a&&f.metadataReady&&!f.ready&&(f.ready=!0,O.onAdManagerReady(),O.reportPluginLoaded(Date.now()-f.initTime,f.name))},V=function(){f.videoControllerWrapper&&f.videoControllerWrapper.raisePauseEvent()},b=function(e){if(e&&O.pageSettings.companionAd&&O.pageSettings.companionAd.slots){var n=O.pageSettings.companionAd.slots,t=[],r=null;ue(n,function(n){n.width&&n.height&&(r=e.getCompanionAds(n.width,n.height)).length&&ue(r,function(e){t.push({slotSize:"".concat(n.width,"x").concat(n.height),ad:e.getContent()})})}),t.length&&O.showCompanion(t)}},U=function(){m&&null!=S&&m.setAttribute("style",S),S=null},w=function(){clearInterval(I),I=null},k=function(){var e=null;return m&&(e=m.querySelector("iframe")),e},F=function(){var e=k();e&&e.style&&(e.style.display="none")},G=function(e){OO.log("Google IMA Ad playthrough",e.type)},Y=function(){f.contentEnded=!1,N(),P(),s()},H=function(e){if(f.currentAMCAdPod){var n=f.currentAMCAdPod.id;f.currentAMCAdPod=null,T=!1,e?O.notifyPodEnded(n):(t=n,O.notifyNonlinearAdEnded(t),p||P())}var t},x=function(e){if(f.currentAMCAdPod)if(f.currentIMAAd){var n=f.currentIMAAd;if(f.currentIMAAd=null,n.isLinear()){var t=n.getAdPodInfo();t||(e&&H(!0),te("IMA ad returning bad value for this.currentIMAAd.getAdPodInfo().")),O.notifyLinearAdEnded(f.currentAMCAdPod.id);var r=t.getAdPosition(),o=t.getTotalAds();(!O.ui.useSingleVideoElement&&r===o||e)&&H(!0)}else H(f.currentAMCAdPod.isRequest)}else H(!0);U(),f.currentIMAAd=null,f.adPlaybackStarted=!1},j=function(){var e=null;return f.currentIMAAd&&f.currentAMCAdPod&&(f.currentIMAAd.isLinear()?(e=O.ADTYPE.LINEAR_VIDEO,function(){f.currentIMAAd||te("Trying to start linear ad and this.currentIMAAd is falsy"),f.currentAMCAdPod||te("Trying to start linear ad and this.currentAMCAdPod is falsy");var e=f.currentAMCAdPod.id,n={},t=1;n.indexInPod=1,n.name=null,n.duration=0,n.hasClickUrl=!1,n.skippable=!1;try{var r=f.currentIMAAd.getAdPodInfo();t=r.getTotalAds(),n.indexInPod=r.getAdPosition()}catch(e){te("IMA ad returning bad value for this.currentIMAAd.getAdPodInfo().")}"function"==typeof f.currentIMAAd.getTitle&&(n.name=f.currentIMAAd.getTitle()),"function"==typeof f.currentIMAAd.getDuration&&(n.duration=f.currentIMAAd.getDuration()),"function"==typeof f.currentIMAAd.isSkippable&&(n.skippable=f.currentIMAAd.isSkippable()),1===n.indexInPod&&O.notifyPodStarted(e,t),b(f.currentIMAAd),O.notifyLinearAdStarted(e,n)}()):(e=O.ADTYPE.NONLINEAR_OVERLAY,function(){f.currentAMCAdPod||te("Trying to start non linear overlay and this.currentAMCAdPod is falsy"),O.notifyPodStarted(f.currentAMCAdPod.id);var e={position_type:"t",forced_ad_type:O.ADTYPE.NONLINEAR_OVERLAY};b(f.currentIMAAd),x(!0),O.forceAdToPlay(f.name,e,O.ADTYPE.NONLINEAR_OVERLAY)}())),e},B=function(){OO.log("GOOGLE_IMA:: Content Resume Requested by Google IMA!"),x(!0)},W=function(e){if(clearTimeout(f.adsRequestTimeoutRef),p&&(f.adsReady||(f.adRulesLoadError=!0),N()),L(),e===u&&v(),e){var n="ERROR Google IMA";if(e.getError){var t=e.getError(),r=!1,o=!1,a=!1,i={vastErrorCode:t.getVastErrorCode(),innerErrorCode:t.getInnerError(),errorCode:t.getErrorCode()};OO.log("GOOGLE_IMA:: SDK Error received: Error Code List",JSON.stringify(i));var l=google.ima.AdError.ErrorCode;switch(i.vastErrorCode){case l.VAST_MEDIA_LOAD_TIMEOUT:case l.VAST_LOAD_TIMEOUT:r=!0;break;case l.VAST_NO_ADS_AFTER_WRAPPER:case l.VAST_EMPTY_RESPONSE:o=!0;break;case l.VAST_MEDIA_ERROR:case l.VIDEO_PLAY_ERROR:a=!0}i.errorCode===l.VIDEO_PLAY_ERROR&&(a=!0),O.onSdkAdEvent(f.name,e.type,{errorData:t}),o?O.onAdRequestEmpty(f.name,f.adPosition,f.adFinalTagUrl,i,t.getMessage()):a?O.onAdPlaybackError(f.name,f.adPosition,f.adFinalTagUrl,i,t.getMessage(),f.currentMedia):O.onAdRequestError(f.name,f.adPosition,f.adFinalTagUrl,i,t.getMessage(),r),n="ERROR Google SDK: ".concat(e.getError())}else n="ERROR Google IMA plugin: ".concat(e);O?O.raiseAdError(n):OO.log(n)}x(!0)},K=function(){OO.log("IMA Ad request timed out"),f.adsReady||W(u)},q=function(){if(!f.adsRequested&&f.canSetupAdsRequest&&f.adTagUrl&&f.uiRegistered&&O.currentEmbedCode&&i&&(!f.isReplay||f.requestAdsOnReplay)){google&&google.ima&&google.ima.settings&&google.ima.settings.setDisableFlashAds(f.disableFlashAds);var e=new google.ima.AdsRequest;if(f.additionalAdTagParameters){var n=0<f.adTagUrl.indexOf("?")?"&":"?",t=[];ue(f.additionalAdTagParameters,function(e,n){t.push("".concat(n,"=").concat(e))}),f.adTagUrl+=n+t.join("&")}e.adTagUrl=OO.getNormalizedTagUrl(f.adTagUrl,O.currentEmbedCode),f.adFinalTagUrl=e.adTagUrl;var r=O.ui.width,o=O.ui.height;e.linearAdSlotWidth=r,e.linearAdSlotHeight=o,e.nonLinearAdSlotWidth=r,e.nonLinearAdSlotHeight=o;var a=f.willPlayAdMuted();OO.log("IMA: setAdWillPlayMuted = ".concat(a)),e.setAdWillPlayMuted(a),P(),p&&O.adManagerWillControlAds(f.name),i.requestAds(e),f.adRequestTime=(new Date).valueOf(),O.onAdRequest(f.name,f.adPosition),f.runningUnitTests&&0===f.maxAdsRequestTimeout?K():f.adsRequestTimeoutRef=de(K,f.maxAdsRequestTimeout),f.adsRequested=!0}},Q=function(){var e=f.currentAMCAdPod&&o===f.currentAMCAdPod||p;if(g&&f.initialPlayRequested&&!n&&m&&e)try{!h()&&g&&(OO.log("Starting IMA Ads Manager"),g.start()),n=!(o=null),p&&!f.hasPreroll&&f.currentAMCAdPod&&0<f.currentAMCAdPod.duration&&f.currentAMCAdPod.adType===O.ADTYPE.UNKNOWN_AD_REQUEST&&(O.notifyPodStarted(f.currentAMCAdPod.id,1),x(!0))}catch(e){W(e)}},z=function(e){if(n=e,t=google.ima.AdEvent.Type,r=[t.COMPLETE,t.SKIPPED,t.FIRST_QUARTILE,t.MIDPOINT,t.PAUSED,t.RESUMED,t.THIRD_QUARTILE,t.USER_CLOSE],!n||!f.adPlaybackStarted&&se(r,n.type))OO.log("Ignoring IMA EVENT: ",e.type,e);else{var n,t,r;O.onSdkAdEvent(f.name,e.type,{adData:e.getAdData()});var o,a=google.ima.AdEvent.Type,i=e.getAd();switch(e.type){case a.LOADED:OO.log("GOOGLE_IMA:: starting playlist ad"),p&&(f.currentAMCAdPod&&f.currentNonLinearIMAAd&&f.cancelAd(f.currentAMCAdPod),S=m.getAttribute("style")||"",m.setAttribute("style","display: block; width: 100%; height: 100%; visibility: hidden; pointer-events: none;"),D(),h()),O.ui.useSingleVideoElement&&O.focusAdVideo(),f.currentMedia=i.getMediaUrl(),U();break;case a.STARTED:if(OO.isIos){var l=k();l&&l.style&&(l.style.display="block")}f.videoControllerWrapper&&f.requiresMutedAutoplay()&&f.videoControllerWrapper.raiseVolumeEvent(),f.adPlaybackStarted=!0,i.isLinear()?(T=!0,O.ui.useSingleVideoElement||O.focusAdVideo(),0<=f.savedVolume&&(f.setVolume(f.savedVolume),f.savedVolume=-1),O.hidePlayerUi(f.showAdControls,!1,f.autoHideAdControls),re()&&OO.isIphone&&!0===f.enableIosSkippableAds&&f.sharedVideoElement&&f.sharedVideoElement.webkitExitFullscreen()):f.currentNonLinearIMAAd=i,f.currentIMAAd=i,D(),j(),f.videoControllerWrapper&&(i.isLinear()&&f.videoControllerWrapper.raisePlayEvent(),f.videoControllerWrapper.raiseTimeUpdate(f.getCurrentTime(),f.getDuration()),w(),f.runningUnitTests||(I=setInterval(function(){T?f.videoControllerWrapper.raiseTimeUpdate(f.getCurrentTime(),f.getDuration()):w()},500))),p&&!i.isLinear()&&(o={position_type:"r",forced_ad_type:O.ADTYPE.NONLINEAR_OVERLAY},b(f.currentIMAAd),O.forceAdToPlay(f.name,o,O.ADTYPE.NONLINEAR_OVERLAY));break;case a.RESUMED:f.videoControllerWrapper&&i.isLinear()&&f.videoControllerWrapper.raisePlayEvent();break;case a.USER_CLOSE:case a.SKIPPED:case a.COMPLETE:OO.isIos&&F(),p&&(f.adResponseTime=(new Date).valueOf());var d=!1;e.type===a.SKIPPED&&(d=!0);var u=(new Date).valueOf()-f.currentImpressionTime;if(O.onAdCompleted(f.name,u,d,f.adFinalTagUrl),f.adPlaybackStarted=!1,f.videoControllerWrapper&&i&&i.isLinear()){w();var s=e.type===a.COMPLETE?f.getDuration():f.getCurrentTime();f.videoControllerWrapper.raiseTimeUpdate(s,f.getDuration()),f.videoControllerWrapper.raiseEndedEvent()}f.savedVolume=f.getVolume(),i&&i.isLinear()||(f.currentNonLinearIMAAd=null),x(!1),T=!1,G(e);break;case a.PAUSED:V();break;case a.ALL_ADS_COMPLETED:T=!1,OO.log("all google ima ads completed!"),N(),OO.isIos&&f.contentEnded&&O.isLastAdPlayed()&&B();break;case a.IMPRESSION:f.currentImpressionTime=(new Date).valueOf();var c=f.currentImpressionTime-f.adResponseTime,E="VAST";i&&i.g&&!0===i.g.vpaid&&(E="VPAID");var A="unknown";A=i&&i.isLinear()?0===i.getContentType().lastIndexOf("video",0)?O.ADTYPE.LINEAR_VIDEO:O.ADTYPE.LINEAR_OVERLAY:i&&0===i.getContentType().lastIndexOf("video",0)?O.ADTYPE.NONLINEAR_VIDEO:O.ADTYPE.NONLINEAR_OVERLAY,O.onAdSdkImpression(f.name,f.adPosition,c,E,A);break;case a.FIRST_QUARTILE:case a.MIDPOINT:case a.THIRD_QUARTILE:G(e);break;case a.VOLUME_CHANGED:case a.VOLUME_MUTED:e.type!==a.VOLUME_MUTED||f.adPlaybackStarted||g.resume(),f.videoControllerWrapper&&f.videoControllerWrapper.raiseVolumeEvent();break;case a.DURATION_CHANGE:f.videoControllerWrapper&&f.videoControllerWrapper.raiseDurationChange(f.getCurrentTime(),f.getDuration());break;case a.AD_BREAK_READY:break;case a.CLICK:O.adsClicked(),O.adsClickthroughOpened();break;case a.CONTENT_PAUSE_REQUESTED:p&&i&&0!==i.getAdPodInfo().getPodIndex()&&(f.adResponseTime=(new Date).valueOf()),function(){if(OO.log("GOOGLE_IMA:: Content Pause Requested by Google IMA!"),T=!0,p){var e={position_type:"r",forced_ad_type:O.ADTYPE.LINEAR_VIDEO},n={};if(n[OO.VIDEO.ENCODING.IMA]="",_.currentTime<=0){var t={position:O.FORCED_AD_POSITION,adManager:f.name,ad:e,streams:n,adType:O.ADTYPE.LINEAR_VIDEO,mainContentDuration:f.mainContentDuration};O.appendToTimeline([new O.Ad(t)]),x(!0)}else O.forceAdToPlay(f.name,e,O.ADTYPE.LINEAR_VIDEO,n)}}();break;case a.CONTENT_RESUME_REQUESTED:B()}}},X=function(e){clearTimeout(f.adsRequestTimeoutRef),f.adResponseTime=(new Date).valueOf();var n=f.adResponseTime-f.adRequestTime,t=f.adResponseTime-f.initialPlayRequestTime;O.onAdRequestSuccess(f.name,f.adPosition,n,t),O.onSdkAdEvent(f.name,e.type,{eventData:{}}),!p&&g&&(L(),f.currentIMAAd=null,f.currentNonLinearIMAAd=null);var r=new google.ima.AdsRenderingSettings;r.loadVideoTimeout=15e3,r.restoreCustomPlaybackStateOnAdBreakComplete=!1,r.useStyledNonLinearAds=!0,r.enablePreloading=f.preloadAds,f.useGoogleCountdown&&(r.uiElements=[google.ima.UiElements.COUNTDOWN,google.ima.UiElements.AD_ATTRIBUTION]),r.useStyledLinearAds=f.useGoogleAdUI,g=e.getAdsManager(_,r),f.videoControllerWrapper&&(f.videoControllerWrapper.readyForCss=!0),f.videoControllerWrapper&&f.videoControllerWrapper.applyStoredCss();var o=g.getCuePoints();f.hasPreroll=0<=o.indexOf(0);var a=google.ima.AdEvent.Type;g.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,W,!1,f);var i=[a.AD_BREAK_READY,a.AD_METADATA,a.ALL_ADS_COMPLETED,a.CLICK,a.COMPLETE,a.CONTENT_PAUSE_REQUESTED,a.CONTENT_RESUME_REQUESTED,a.DURATION_CHANGE,a.FIRST_QUARTILE,a.IMPRESSION,a.INTERACTION,a.LINEAR_CHANGED,a.LOADED,a.LOG,a.MIDPOINT,a.PAUSED,a.RESUMED,a.SKIPPABLE_STATE_CHANGED,a.SKIPPED,a.STARTED,a.THIRD_QUARTILE,a.USER_CLOSE,a.VOLUME_CHANGED,a.VOLUME_MUTED];ue(i,function(e){g.addEventListener(e,z,!1,f)},f),OO.isIos&&F(),p&&!f.initialPlayRequested||g.init(m.clientWidth,m.clientHeight,google.ima.ViewMode.NORMAL),M(),f.adsReady=!0,Q()},J=function(){if(a){var e=google.ima.AdsManagerLoadedEvent.Type,n=google.ima.AdErrorEvent.Type;v(),(i=new google.ima.AdsLoader(a)).addEventListener(e.ADS_MANAGER_LOADED,X,!1),i.addEventListener(n.AD_ERROR,W,!1)}},Z=function(){if(t&&f.uiRegistered){if(R()||te("IMA SDK loaded but does not contain valid data"),!a){google.ima.settings.setPlayerVersion("1.0"),google.ima.settings.setPlayerType("Ooyala"),O.uiLanguage?google.ima.settings.setLocale(O.uiLanguage):google.ima.settings.setLocale(OO.getLocale()),f.useInsecureVpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(f.enableIosSkippableAds),f.maxRedirects&&"number"==typeof f.maxRedirects&&0<f.maxRedirects&&google.ima.settings.setNumRedirects(f.maxRedirects),m=O.ui.playerSkinPluginsElement?O.ui.playerSkinPluginsElement[0]:O.ui.pluginsElement[0];var e=f.sharedVideoElement;a=new google.ima.AdDisplayContainer(m,e)}J(),M()}},$=function(e,n){f.initialPlayRequestTime=(new Date).valueOf(),OO.log("_onInitialPlayRequested"),a||(W(),O.unregisterAdManager(f.name),te("onInitialPlayRequested called but _IMAAdDisplayContainer not created yet.")),f.initialPlayRequested=!0,f.isReplay=!1,a.initialize(),f.capturedUserClick=f.capturedUserClick||!n,p&&g&&g.init(m.clientWidth,m.clientHeight,google.ima.ViewMode.NORMAL),Q(),f.canSetupAdsRequest=!0,q()},ee=function(){i||J(),f.isReplay=!0,P(),s(),f.contentEnded=!1,f.adRulesLoadError=!1,p&&q()},ne=function(e){var n="";if(t=e,OO.log("onSdkLoaded!"),!e||!R())return W(),n="ERROR Google SDK failed to load",e&&!R()&&(n="ERROR Google SDK loaded but could not be validated"),O.onAdSdkLoadFailure(f.name,n),void O.unregisterAdManager(f.name);O.onAdSdkLoaded(f.name),Z(),q()};this.registerVideoControllerWrapper=function(e){f.videoControllerWrapper=e},this.setRequiresMutedAutoplay=function(e){r=!e},this.requiresMutedAutoplay=function(){return!r&&(OO.isSafari&&11<=OO.macOsSafariVersion||OO.isIos||OO.isAndroid||OO.isChrome&&66<=OO.chromeMajorVersion)};this.destroy=function(){m=null,N(),L(),v(),a&&(a.destroy(),a=null,f.capturedUserClick=!1),c(),O&&(O.removePlayerListener(O.EVENTS.INITIAL_PLAY_REQUESTED,$),O.removePlayerListener(O.EVENTS.CONTENT_COMPLETED,A),O.removePlayerListener(O.EVENTS.PLAYHEAD_TIME_CHANGED,y),O.removePlayerListener(O.EVENTS.SIZE_CHANGED,D),O.removePlayerListener(O.EVENTS.CONTENT_CHANGED,Y),O.removePlayerListener(O.EVENTS.REPLAY_REQUESTED,ee),O.removePlayerListener(O.EVENTS.FULL_SCREEN_CHANGED,C))},this.initialize=function(e,n){oe[n]=f,O=e;var t=OO.DEBUG?"_debug.js":".js",r="//imasdk.googleapis.com/js/sdkloader/ima3".concat(t);c(),O.addPlayerListener(O.EVENTS.INITIAL_PLAY_REQUESTED,$),O.addPlayerListener(O.EVENTS.CONTENT_COMPLETED,A),O.addPlayerListener(O.EVENTS.PLAYHEAD_TIME_CHANGED,y),O.addPlayerListener(O.EVENTS.SIZE_CHANGED,D),O.addPlayerListener(O.EVENTS.CONTENT_CHANGED,Y),O.addPlayerListener(O.EVENTS.REPLAY_REQUESTED,ee),O.addPlayerListener(O.EVENTS.FULLSCREEN_CHANGED,C),f.runningUnitTests?ne(!0):O.loadAdModule(f.name,r,ne)},this.loadMetadata=function(e,n,t){f.mainContentDuration=t.duration/1e3,f.allAdInfo=e.all_ads;var r=ae(e.all_ads,function(e){return"r"===e.position_type});p=!!r,f.adRulesLoadError=!1,f.adTagUrl=null,p&&(f.adTagUrl=r.tag_url,f.adPosition=0),f.requestAdsOnReplay=!0,Object.prototype.hasOwnProperty.call(O.adManagerSettings,O.AD_SETTINGS.REPLAY_ADS)&&(f.requestAdsOnReplay=O.adManagerSettings[O.AD_SETTINGS.REPLAY_ADS]),f.preloadAds=!1,Object.prototype.hasOwnProperty.call(O.adManagerSettings,O.AD_SETTINGS.PRELOAD_ADS)&&(f.preloadAds=O.adManagerSettings[O.AD_SETTINGS.PRELOAD_ADS]),f.maxAdsRequestTimeout=15e3,ie(O.adManagerSettings[O.AD_SETTINGS.AD_LOAD_TIMEOUT])&&(0<O.adManagerSettings[O.AD_SETTINGS.AD_LOAD_TIMEOUT]||f.runningUnitTests)&&(f.maxAdsRequestTimeout=O.adManagerSettings[O.AD_SETTINGS.AD_LOAD_TIMEOUT]),f.additionalAdTagParameters=null,Object.prototype.hasOwnProperty.call(e,"additionalAdTagParameters")&&(f.additionalAdTagParameters=e.additionalAdTagParameters),f.showAdControls=!1,f.playerControlsOverAds=O.pageSettings&&!0===O.pageSettings.playerControlsOverAds,f.playerControlsOverAds?f.showAdControls=!0:Object.prototype.hasOwnProperty.call(e,"showAdControls")&&(f.showAdControls=e.showAdControls),f.autoHideAdControls=!0,f.showAdControls&&!f.playerControlsOverAds&&(f.autoHideAdControls=!1),f.useGoogleAdUI=!1,Object.prototype.hasOwnProperty.call(e,"useGoogleAdUI")&&(f.useGoogleAdUI=e.useGoogleAdUI),f.useGoogleCountdown=!1,Object.prototype.hasOwnProperty.call(e,"useGoogleCountdown")&&(f.useGoogleCountdown=e.useGoogleCountdown),f.useInsecureVpaidMode=!1,Object.prototype.hasOwnProperty.call(e,"vpaidMode")&&(f.useInsecureVpaidMode="insecure"===e.vpaidMode),f.disableFlashAds=!1,Object.prototype.hasOwnProperty.call(e,"disableFlashAds")&&(f.disableFlashAds=e.disableFlashAds),f.imaIframeZIndex=10004,Object.prototype.hasOwnProperty.call(e,"iframeZIndex")&&(f.imaIframeZIndex=e.iframeZIndex),f.enableIosSkippableAds=!1,Object.prototype.hasOwnProperty.call(e,"enableIosSkippableAds")&&(f.enableIosSkippableAds=e.enableIosSkippableAds),Object.prototype.hasOwnProperty.call(e,"setMaxRedirects")&&("number"==typeof e.setMaxRedirects?f.maxRedirects=e.setMaxRedirects:"string"==typeof e.setMaxRedirects&&(f.maxRedirects=+e.setMaxRedirects)),a?i||J():Z(),f.metadataReady=!0,M();var o=E();o&&0<o.length&&p&&(f.canSetupAdsRequest=!1)},this.registerUi=function(){f.uiRegistered=!0,O.ui.useSingleVideoElement&&!f.sharedVideoElement&&O.ui.ooyalaVideoElement[0]&&"video"===O.ui.ooyalaVideoElement[0].className&&f.setupSharedVideoElement(O.ui.ooyalaVideoElement[0]),Z(),q()},this.setupSharedVideoElement=function(e){f.sharedVideoElement&&OO.isIphone&&"function"==typeof f.sharedVideoElement.removeEventListener&&f.sharedVideoElement.removeEventListener("webkitendfullscreen",V),f.sharedVideoElement=e,f.sharedVideoElement&&OO.isIphone&&"function"==typeof f.sharedVideoElement.addEventListener&&f.sharedVideoElement.addEventListener("webkitendfullscreen",V)},this.buildTimeline=function(){var e,n=[];if(p)return(e={})[OO.VIDEO.ENCODING.IMA]="",[new O.Ad({position:0,duration:0,adManager:f.name,ad:{},streams:e,adType:O.ADTYPE.UNKNOWN_AD_REQUEST})];var t=E();if(t)for(var r=0;r<t.length;r++){var o=t[r];if("r"!==o.position_type){(e={})[OO.VIDEO.ENCODING.IMA]="";var a={position:o.position/1e3,adManager:f.name,ad:o,streams:e,adType:O.ADTYPE.UNKNOWN_AD_REQUEST,mainContentDuration:f.mainContentDuration};"p"===o.position_type&&(a.positionType="p",a.position=o.position);var i=new O.Ad(a);n.push(i)}}return n},this.playAd=function(e,n){if(null!=e)if(n?l=e:o=e,l!==e||f.currentAMCAdPod!==e){f.currentAMCAdPod&&x(!0),f.currentAMCAdPod=e,f.currentAMCAdPod?f.currentAMCAdPod.ad||te("playAd() called but amcAdPod.ad is null."):te("playAd() called but amcAdPod is null.");var t=k();t&&t.style&&(t.style.zIndex=f.imaIframeZIndex),p&&f.currentAMCAdPod.adType===O.ADTYPE.UNKNOWN_AD_REQUEST?n&&(f.canSetupAdsRequest=!0,q()):(!O.ui.useSingleVideoElement&&O.ui.adVideoElement&&O.ui.adVideoElement.css(d),p&&f.currentAMCAdPod.ad.forced_ad_type!==O.ADTYPE.NONLINEAR_OVERLAY?j():f.currentAMCAdPod.ad.forced_ad_type!==O.ADTYPE.NONLINEAR_OVERLAY?(P(),f.adTagUrl=f.currentAMCAdPod.ad.tag_url,f.adPosition=f.currentAMCAdPod.ad.position/1e3,q()):(f.currentAMCAdPod&&f.currentNonLinearIMAAd&&(f.currentAMCAdPod.width=f.currentNonLinearIMAAd.getWidth(),f.currentAMCAdPod.height=f.currentNonLinearIMAAd.getHeight(),f.currentAMCAdPod.paddingWidth=50,f.currentAMCAdPod.paddingHeight=50,D()),O.sendURLToLoadAndPlayNonLinearAd(f.currentAMCAdPod,f.currentAMCAdPod.id,null)))}else n||(o=f.currentAMCAdPod,f.adsReady&&Q())},this.cancelAd=function(e){e&&f.currentAMCAdPod&&e.id!==f.currentAMCAdPod.id&&te("AMC canceling ad that is not the current one playing."),OO.log("GOOGLE IMA: ad got canceled by AMC"),p||L(),x(!0)},this.cancelOverlay=function(e){f.cancelAd(e)},this.pauseAd=function(){g&&f.adPlaybackStarted&&g.pause()},this.resumeAd=function(){f.startImaOnVtcPlay?(f.startImaOnVtcPlay=!1,g&&g.start()):g&&f.adPlaybackStarted&&(OO.isIphone&&f.sharedVideoElement&&(re()||f.sharedVideoElement.webkitEnterFullscreen(),f.sharedVideoElement.play()),g.resume())},this.getVolume=function(){var e=1;return g&&(e=g.getVolume()),e},this.setVolume=function(e){g?g.getVolume()===e||!f.capturedUserClick&&0!==e&&f.requiresMutedAutoplay()||(f.savedVolume=-1,g.setVolume(e),!f.videoControllerWrapper||f.adPlaybackStarted&&!f.sharedVideoElement||f.videoControllerWrapper.raiseVolumeEvent()):f.savedVolume=e},this.setupUnmutedPlayback=function(){f.capturedUserClick=!0,f.currentIMAAd||a&&a.initialize()},this.getCurrentTime=function(){var e=0;return g&&f.currentIMAAd&&0<=g.getRemainingTime()&&g.getRemainingTime()<=f.currentIMAAd.getDuration()&&(e=f.currentIMAAd.getDuration()-g.getRemainingTime()),e},this.getDuration=function(){var e=0;return f.currentIMAAd&&(e=f.currentIMAAd.getDuration()),e},this.adVideoFocused=function(){},this.willPlayAdMuted=function(){return f.requiresMutedAutoplay()&&!f.capturedUserClick}}});var u=function(e){var t=this,r=e;this.controller={},this.disableNativeSeek=!0,this.isControllingVideo=!0,this.readyForCss=!1;var n=null,o=1;this.sharedElementTake=function(){t.isControllingVideo=!0},this.sharedElementGive=function(){t.isControllingVideo=!1},this.subscribeAllEvents=function(){r.registerVideoControllerWrapper(t)},this.play=function(){r.resumeAd()},this.pause=function(){r.pauseAd()},this.mute=function(){var e=r.getVolume();e&&(o=e),r.setVolume(0)},this.unmute=function(e){e&&r.setupUnmutedPlayback(),r.setVolume(o||1)},this.setVolume=function(e,n){o=e,n?t.mute():r.setVolume(e)},this.getCurrentTime=function(){return r.getCurrentTime()},this.applyStoredCss=function(){t.applyCss(n)};this.applyCss=function(e){t.readyForCss?function(e){if(e&&t.isControllingVideo&&r.sharedVideoElement){var o=document.querySelector(r.sharedVideoElement.className,"#".concat(r.sharedVideoElement.id));s(e).forEach(function(e){var n=l(e,2),t=n[0],r=n[1];o.style[t]=r})}}(e):n=e},this.destroy=function(){r.sharedVideoElement=null};var a=function(e,n){t.isControllingVideo&&t.controller.notify(e,n)};this.raisePlayEvent=function(){a(t.controller.EVENTS.PLAY,{}),a(t.controller.EVENTS.PLAYING)},this.raiseEndedEvent=function(){a(t.controller.EVENTS.ENDED)},this.raisePauseEvent=function(){a(t.controller.EVENTS.PAUSED)},this.raiseVolumeEvent=function(){var e=r.getVolume();0===e?a(t.controller.EVENTS.MUTE_STATE_CHANGE,{muted:!0}):(a(t.controller.EVENTS.MUTE_STATE_CHANGE,{muted:!1}),a(t.controller.EVENTS.VOLUME_CHANGE,{volume:e}))};var i=function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;a(e,{currentTime:n,duration:t,buffer:r,seekRange:{begin:0,end:0}})};this.raiseTimeUpdate=function(e,n){i(t.controller.EVENTS.TIME_UPDATE,e,n)},this.raiseDurationChange=function(e,n){i(t.controller.EVENTS.DURATION_CHANGE,e,n)},this.raiseUnmutedPlaybackFailed=function(){a(t.controller.EVENTS.UNMUTED_PLAYBACK_FAILED)},this.notifyUnmutedContentAutoPlaybackSucceeded=function(){r.setRequiresMutedAutoplay(!1)}};OO.Video.plugin(new function(){var e=this;this.name="GoogleIMAVideoTech",this.encodings=[OO.VIDEO.ENCODING.IMA],this.features=[OO.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE],this.technology=OO.VIDEO.TECHNOLOGY.HTML5,this.create=function(e,n,t,r,o){var a=oe[o],i=d("<div>");i.attr("id",n),e.prepend(i);var l=new u(a);return l.controller=t,l.subscribeAllEvents(),l},this.createFromExisting=function(e,n,t){var r=oe[t];r.setupSharedVideoElement(document.getElementById(e));var o=new u(r);return o.controller=n,o.subscribeAllEvents(),o},this.destroy=function(){e.encodings=[],e.create=function(){},e.createFromExisting=function(){}},this.maxSupportedElements=-1})}(OO.$)},{"../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"../html5-common/js/utils/constants.js":3,"../html5-common/js/utils/utils.js":4,underscore:7}],7:[function(e,n,t){arguments[4][5][0].apply(t,arguments)},{dup:5}]},{},[6]);